<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sodexo Satisfaction Survey</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="language-selector">
                <button onclick="toggleLanguage()" class="lang-btn" id="langBtn">注专转</button>
            </div>
            <div class="logo-container">
                <img src="sodexo-logo-official.svg" alt="Sodexo Logo" class="logo">
            </div>
            <h1 id="mainTitle">Customer Satisfaction Survey</h1>
        </header>

        <main class="main-content">
            <section class="survey-section">
                <form id="satisfactionForm" class="survey-form">
                    <div class="form-group">
                        <h3 id="question1">How would you rate your overall experience?</h3>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="overall" value="excellent" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Excellent" data-he="注">Excellent</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="overall" value="good" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Good" data-he="">Good</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="overall" value="average" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Average" data-he="">Average</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="overall" value="poor" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Poor" data-he="专注">Poor</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <h3 id="question2">How would you rate the food quality?</h3>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="food" value="excellent" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Excellent" data-he="注">Excellent</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="food" value="good" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Good" data-he="">Good</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="food" value="average" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Average" data-he="">Average</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="food" value="poor" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Poor" data-he="专注">Poor</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <h3 id="question3">How would you rate the service?</h3>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="service" value="excellent" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Excellent" data-he="注">Excellent</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="service" value="good" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Good" data-he="">Good</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="service" value="average" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Average" data-he="">Average</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="service" value="poor" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Poor" data-he="专注">Poor</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <h3 id="question4">Would you recommend us to others?</h3>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="recommend" value="definitely" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Definitely" data-he="">Definitely</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="recommend" value="probably" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Probably" data-he="专">Probably</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="recommend" value="maybe" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="Maybe" data-he="">Maybe</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="recommend" value="no" required>
                                <span class="radio-custom"></span>
                                <span class="option-text" data-en="No" data-he="">No</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="comments" id="commentsLabel">Additional Comments (Optional):</label>
                        <textarea id="comments" name="comments" rows="4" placeholder="Please share any additional feedback..."></textarea>
                    </div>

                    <div class="button-container">
                        <button type="submit" class="submit-btn" id="submitBtn">Submit Survey</button>
                    </div>
                </form>

                <div id="thankYouMessage" class="thank-you-message" style="display: none;">
                    <h2 id="thankYouTitle">Thank You!</h2>
                    <p id="thankYouText">Your feedback has been successfully submitted. We appreciate your time and input!</p>
                    <button onclick="resetForm()" class="submit-btn" id="anotherResponseBtn">Submit Another Response</button>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
    <!-- Admin access button -->
        <!-- Admin Access Button -->
    <div class="admin-access">
        <button onclick="window.location.href='dashboard.html'" class="admin-btn" title="Dashboard Access">
            
        </button>
        <div class="admin-hint">Admin: Click the blue button for dashboard access</div>
    </div>
    <script>
async function sendSurveyData(surveyData) {
    try {
        const response = await fetch('http://127.0.0.1:5000/submit', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(surveyData),
        });

        if (response.ok) {
            const result = await response.json();
            console.log('Survey submitted successfully:', result);
            alert('Thank you for your feedback!');
        } else {
            console.error('Failed to submit survey:', response.statusText);
            alert('Failed to submit survey. Please try again later.');
        }
    } catch (error) {
        console.error('Error submitting survey:', error);
        alert('An error occurred. Please try again later.');
    }
}

// Example usage: Call this function when the form is submitted
const form = document.getElementById('satisfactionForm');
form.addEventListener('submit', (event) => {
    event.preventDefault();

    const surveyData = {
        overall: form.elements['overall'].value,
        food: form.elements['food'].value,
        service: form.elements['service'].value,
        recommend: form.elements['recommend'].value,
        comments: form.elements['comments'].value,
    };

    sendSurveyData(surveyData);
});
</script>
</body>
</html>
